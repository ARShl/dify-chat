// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model DifyApp {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // 应用基本信息
  name        String
  mode        String?
  description String?
  tags        String? // JSON 字符串存储数组

  // 请求配置
  apiBase String
  apiKey  String

  // 回复表单配置
  answerFormEnabled     Boolean @default(false)
  answerFormFeedbackText String?

  // 输入参数配置
  inputParamsEnableUpdateAfterCvstStarts Boolean @default(false)
  inputParamsParameters                  String? // JSON 字符串存储参数数组

  // 扩展配置
  extConfigConversationOpeningStatementDisplayMode String? // 'default' | 'always'

  @@map("dify_apps")
}
